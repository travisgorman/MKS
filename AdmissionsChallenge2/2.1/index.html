<!DOCTYPE html>
<html>
<head>
  <title>Cookies!</title>
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="./app.js"></script>
</head>
<body>

<div id="product">
  <h2>Money: $<span class="money">1000</span></h2>
  <h2>Cookies: <span class="cookies">0</span></h2>
</div>

<hr>

<div id="ingredients">
  <h2>Ingredients</h2>
  <h4>Sugar: <span class="sugar">10</span></h4>
  <button class="use-sugar">Use 1 Sugar</button>
  <button class="buy-sugar">Buy 1 Sugar for $10</button>
  <h4>Flour: <span class="flour">10</span></h4>
  <button class="use-flour">Use 1 Flour</button>
  <button class="buy-flour">Buy 1 Flour for $15</button>
</div>

<hr>

<div id="pot">
  <h2>What's in the pot</h2>
  <h4>Sugar: <span class="sugar">0</span></h4>
  <h4>Flour: <span class="flour">0</span></h4>
  <button>Cook me a cookie!</button>
</div>

<script type="text/javascript">

$(document).ready(function() {
  var numSugar = 0, numFlour = 0, numMoney = 0, numCookies = 0;
  $(".use-sugar").click(function() {
    numSugar = Number($("#ingredients .sugar").text());
    if (numSugar > 0) {
      numSugar -= 1;
      $("#ingredients .sugar").text(numSugar);

      numSugar = Number($("#pot .sugar").text());
      numSugar += 1;
      $("#pot .sugar").text(numSugar);  
    }
    else
      alert("No more sugar. Purchase more sugar");
  });

  $(".use-flour").click(function() {
    numFlour = Number($("#ingredients .flour").text());
    if (numFlour > 0) {
      numFlour -= 1;
      $("#ingredients .flour").text(numFlour);

      numFlour = Number($("#pot .flour").text());
      numFlour += 1;
      $("#pot .flour").text(numFlour);
    }
    else
      alert("No more flour. Purchase more flour");
  });

  $("#pot button").click(function() {
    var numFlour = Number($("#pot .flour").text());
    var numSugar = Number($("#pot .sugar").text());
    if ( (numFlour >= 6) && (numSugar >= 3) ) {
      numFlour -= 6;
      $("#pot .flour").text(numFlour);

      numSugar -= 3;
      $("#pot .sugar").text(numSugar);

      numCookies = Number($("#product .cookies").text());
      numCookies += 1;
      $("#product .cookies").text(numCookies);
    }
    else
      alert("Need at least 6 units of flour and 3 units of sugar to make cookie.\
             Add more to the pot.");
  });

    $(".buy-sugar").click(function() {
      numMoney = Number($("#product .money").text());
      if ((numMoney - 10) >= 0) {
        numMoney -= 10;
        $("#product .money").text(numMoney);

        numSugar = Number($("#ingredients .sugar").text());
        numSugar += 1;
        $("#ingredients .sugar").text(numSugar);
      }
      else
        alert("Need at least $10 to purchase sugar");
    });

    $(".buy-flour").click(function() {
      numMoney = Number($("#product .money").text());
      if ((numMoney - 15) >= 0) {
        numMoney -= 15;
        $("#product .money").text(numMoney);

        numFlour = Number($("#ingredients .flour").text());
        numFlour += 1;
        $("#ingredients .flour").text(numFlour);
      }
      else
        alert("Need at least $15 to purchase flour");
    });
});

</script>

</body>
</html>



